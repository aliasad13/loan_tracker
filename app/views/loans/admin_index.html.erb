<div class="container mx-auto px-4 py-8 bg-gray-900">
  <h1 class="text-3xl font-bold mb-8 text-white">Loan Management</h1>

  <div class="mb-8">
    <h2 class="text-xl font-semibold mb-4 text-gray-200"></h2>
    <div class="bg-gray-900 rounded-lg shadow-lg overflow-hidden border border-gray-700">
      <% if @loans.any? %>
        <table class="min-w-full">
          <thead class="bg-gray-900">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">User</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Amount</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Interest Rate</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Request Date</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">State</th>
          </tr>
          </thead>
          <tbody class="bg-gray-800 divide-y divide-gray-700">
          <% @loans.each do |loan| %>


            <tr class="hover:bg-gray-700 transition-colors cursor-pointer" data-url="<%= loan_path(loan) %>" onclick="window.location = this.dataset.url">
              <td class="px-6 py-4 text-gray-200"><%= loan.user.username %></td>
              <td class="px-6 py-4 text-gray-200">$<%= number_with_precision(loan.amount, precision: 2) %></td>
              <td class="px-6 py-4 text-gray-200"><%= loan.interest_rate %>%</td>
              <td class="px-6 py-4 text-gray-200"><%= loan.created_at.in_time_zone("Asia/Kolkata").strftime("%B %d, %Y %I:%M %p") %></td>
              <td class="px-6 py-4 text-gray-200"><%= (loan.state).humanize %></td>
            </tr>
            <%= render 'adjust_modal', loan: loan %>
          <% end %>
          </tbody>
        </table>


      <% else %>
        <div class="p-6 text-center text-gray-400">
          <p>No pending loan requests.</p>
        </div>
      <% end %>
    </div>
    <% if @loans.any? %>
    <div class="px-6 py-4 border-t border-gray-700">
      <%= paginate @loans %>
      <% end %>
    </div>
  </div>
</div>